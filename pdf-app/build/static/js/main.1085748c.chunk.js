(this["webpackJsonppdf-app"]=this["webpackJsonppdf-app"]||[]).push([[0],{53:function(e,t,n){},55:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),i=n(27),s=n.n(i),c=(n(53),n(16)),l=n.n(c),o=n(46),d=n(19),h=n(28),u=n(29),f=n(48),p=n(47),j=(n(55),n(30)),g=n(9),b=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).readfiles=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.fileInput.current.files,console.log(n.length),r=function(e){a.setState((function(t){return{images:[].concat(Object(o.a)(t.images),[{imgDataUrl:window.URL.createObjectURL(n[e]),file:n[e]}])}}))},i=0;i<n.length;i++)r(i);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createPdf=Object(d.a)(l.a.mark((function e(){var t,n,r,i,s,c,o,d,h,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.prev=1,e.next=4,j.PDFDocument.create();case 4:n=e.sent,r=0;case 6:if(!(r<a.state.images.length)){e.next=23;break}return e.next=9,fetch(a.state.images[r].imgDataUrl);case 9:return i=e.sent,e.next=12,i.arrayBuffer();case 12:return s=e.sent,t=i.headers.get("content-type"),console.log(i.headers.get("content-type")),e.next=17,"image/jpeg"===i.headers.get("content-type")?n.embedJpg(s):n.embedPng(s);case 17:c=e.sent,(o=n.addPage()).drawImage(c,{x:0,y:0,width:o.getWidth(),height:o.getHeight()});case 20:r++,e.next=6;break;case 23:return e.next=25,n.save();case 25:d=e.sent,h=new Blob([d],{type:"application/pdf"}),(u=document.createElement("a")).href=window.URL.createObjectURL(h),"file.pdf",u.download="file.pdf",u.click(),e.next=38;break;case 34:e.prev=34,e.t0=e.catch(1),console.error(e.t0),a.setState({lastError:e.t0,lastMime:t});case 38:case"end":return e.stop()}}),e,null,[[1,34]])}))),a.state={images:[],lastError:void 0,lastMime:void 0},a.fileInput=r.a.createRef(),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:"This app is not styled yet"}),Object(g.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:this.state.images.map((function(e,t){return Object(g.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(g.jsx)("img",{src:e.imgDataUrl,alt:"",style:{width:"96px",height:"128px"}}),Object(g.jsx)("div",{children:"Page "+(t+1)})]})}))}),Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"file",ref:this.fileInput,onChange:this.readfiles,multiple:!0}),Object(g.jsx)("button",{onClick:function(){e.setState({images:[]})},children:"Clear"}),Object(g.jsx)("button",{onClick:this.createPdf,children:"Generate PDF"})]}),this.state.lastError?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:this.state.lastError}),Object(g.jsx)("div",{children:this.state.lastMime})]}):Object(g.jsx)("div",{children:this.state.lastMime}),Object(g.jsx)("div",{children:this.state.lastMime})]})}}]),n}(r.a.Component),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(b,{})}),document.getElementById("root")),x()}},[[65,1,2]]]);
//# sourceMappingURL=main.1085748c.chunk.js.map