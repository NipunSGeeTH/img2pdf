(this["webpackJsonppdf-app"]=this["webpackJsonppdf-app"]||[]).push([[0],{53:function(e,t,n){},55:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),c=n(27),i=n.n(c),s=(n(53),n(16)),l=n.n(s),o=n(46),d=n(19),u=n(28),f=n(29),p=n(48),h=n(47),j=(n(55),n(30)),b=n(9),g=function(e){Object(p.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).readfiles=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=a.fileInput.current.files,console.log(n.length),r=function(e){a.setState((function(t){return{images:[].concat(Object(o.a)(t.images),[{imgDataUrl:window.URL.createObjectURL(n[e]),file:n[e]}])}}))},c=0;c<n.length;c++)r(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createPdf=Object(d.a)(l.a.mark((function e(){var t,n,r,c,i,s,o,d,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.PDFDocument.create();case 3:t=e.sent,n=0;case 5:if(!(n<a.state.images.length)){e.next=20;break}return e.next=8,fetch(a.state.images[n].imgDataUrl);case 8:return r=e.sent,e.next=11,r.arrayBuffer();case 11:return c=e.sent,e.next=14,"image/jpeg"===r.headers["content-type"]?t.embedJpg(c):t.embedPng(c);case 14:i=e.sent,(s=t.addPage()).drawImage(i,{x:0,y:0,width:s.getWidth(),height:s.getHeight()});case 17:n++,e.next=5;break;case 20:return e.next=22,t.save();case 22:o=e.sent,d=new Blob([o],{type:"application/pdf"}),(u=document.createElement("a")).href=window.URL.createObjectURL(d),"file.pdf",u.download="file.pdf",u.click(),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(0),console.error(e.t0),a.setState({lastError:e.t0});case 35:case"end":return e.stop()}}),e,null,[[0,31]])}))),a.state={images:[],lastError:void 0},a.fileInput=r.a.createRef(),a}return Object(f.a)(n,[{key:"render",value:function(){var e=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"This app is not styled yet"}),Object(b.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:this.state.images.map((function(e,t){return Object(b.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(b.jsx)("img",{src:e.imgDataUrl,alt:"",style:{width:"96px",height:"128px"}}),Object(b.jsx)("div",{children:"Page "+(t+1)})]})}))}),Object(b.jsxs)("div",{children:[Object(b.jsx)("input",{type:"file",ref:this.fileInput,onChange:this.readfiles,multiple:!0}),Object(b.jsx)("button",{onClick:function(){e.setState({images:[]})},children:"Clear"}),Object(b.jsx)("button",{onClick:this.createPdf,children:"Generate PDF"})]}),this.state.lastError?Object(b.jsx)("div",{children:this.state.lastError}):Object(b.jsx)("div",{})]})}}]),n}(r.a.Component),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,66)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),x()}},[[65,1,2]]]);
//# sourceMappingURL=main.c862a048.chunk.js.map