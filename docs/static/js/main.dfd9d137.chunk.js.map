{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","readfiles","event","a","fileList","fileInput","current","files","console","log","length","i","setState","state","images","imgDataUrl","window","URL","createObjectURL","file","createPdf","PDFDocument","create","pdfDoc","fetch","res","headers","forEach","val","key","arrayBuffer","raw","embedJpg","embedPng","img","page","addPage","drawImage","x","y","width","getWidth","height","getHeight","save","pdfBytes","blob","Blob","type","link","document","createElement","href","download","click","error","React","createRef","style","display","flexWrap","this","map","index","flexDirection","src","alt","ref","onChange","multiple","onClick","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"gSA+HeA,E,kDA1Hb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IA2CRC,UA5CmB,uCA4CP,WAAOC,GAAP,mBAAAC,EAAA,sDAGV,IAFIC,EAAW,EAAKC,UAAUC,QAAQC,MACtCC,QAAQC,IAAIL,EAASM,QAFX,WAGDC,GACP,EAAKC,UAAS,SAACC,GAAD,MAAY,CACxBC,OAAO,GAAD,mBAAMD,EAAMC,QAAZ,CAAoB,CAAEC,WAAYC,OAAOC,IAAIC,gBAAgBd,EAASO,IAAKQ,KAAMf,EAASO,WAF3FA,EAAI,EAAGA,EAAIP,EAASM,OAAQC,IAAM,EAAlCA,GAHC,2CA5CO,wDAsDnBS,UAtDmB,sBAsDP,4CAAAjB,EAAA,sEAERK,QAAQC,IAAI,UAFJ,SAGaY,cAAYC,SAHzB,OAGFC,EAHE,OAICZ,EAAI,EAJL,YAIQA,EAAI,EAAKE,MAAMC,OAAOJ,QAJ9B,iCAKQc,MAAM,EAAKX,MAAMC,OAAOH,GAAGI,YALnC,cAKFU,EALE,QAMFC,QAAQC,SAAQ,SAACC,EAAIC,GAAL,OAAWrB,QAAQC,IAAIoB,EAAI,IAAID,MAN7C,UAQUH,EAAIK,cARd,eAQFC,EARE,iBAU2C,eAA9BN,EAAIC,QAAQ,gBAA+BH,EAAOS,SAASD,GAAKR,EAAOU,SAASF,GAV7F,QAUAG,EAVA,QAWAC,EAAOZ,EAAOa,WACfC,UAAUH,EAAK,CAClBI,EAAG,EACHC,EAAG,EACHC,MAAOL,EAAKM,WACZC,OAAQP,EAAKQ,cAhBT,QAIsChC,IAJtC,wCAmBeY,EAAOqB,OAnBtB,QAmBFC,EAnBE,OAoBJC,EAAO,IAAIC,KAAK,CAACF,GAAW,CAAEG,KAAM,qBACpCC,EAAOC,SAASC,cAAc,MAC7BC,KAAOpC,OAAOC,IAAIC,gBAAgB4B,GACxB,WACfG,EAAKI,SADU,WAEfJ,EAAKK,QAzBG,kDA4BR9C,QAAQ+C,MAAR,MA5BQ,0DApDV,EAAK1C,MAAQ,CACXC,OAAQ,IAEV,EAAKT,UAAYmD,IAAMC,YALN,E,0CAOnB,WAAU,IAAD,OACP,OACE,gCACE,8XACA,qBAAKC,MAAO,CAAEC,QAAS,OAAQC,SAAU,QAAzC,SACGC,KAAKhD,MAAMC,OAAOgD,KAAI,SAAC5B,EAAK6B,GAAN,OACrB,sBAAKL,MAAO,CAAEC,QAAS,OAAQK,cAAe,UAA9C,UACE,qBAAKC,IAAK/B,EAAInB,WAAYmD,IAAI,GAAGR,MAAO,CAAElB,MAAO,OAAQE,OAAQ,WACjE,8BAAM,SAAWqB,EAAQ,aAI/B,gCACE,uBAAOf,KAAK,OAAOmB,IAAKN,KAAKxD,UAAW+D,SAAUP,KAAK5D,UAAWoE,UAAQ,IAC1E,wBAAQC,QAAS,WAAQ,EAAK1D,SAAS,CAAEE,OAAQ,MAAjD,mBACA,wBAAQwD,QAAST,KAAKzC,UAAtB,oC,GAvBQoC,IAAMe,WCQTC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFjC,SAASkC,eAAe,SAM1BZ,M","file":"static/js/main.dfd9d137.chunk.js","sourcesContent":["import './App.css';\nimport React from 'react';\nimport { PDFDocument } from 'pdf-lib'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      images: []\n    };\n    this.fileInput = React.createRef();\n  }\n  render() {\n    return (\n      <div>\n        <div>Donec sollicitudin tristique enim. Fusce elementum vitae mi sed porta. Maecenas posuere pharetra velit ut vulputate. Integer volutpat velit id aliquam porttitor. Praesent finibus tempor neque, non ultrices nisl dapibus eget. Praesent a tortor nec tortor viverra dapibus id at ipsum. Aliquam in turpis sit amet tellus posuere faucibus eget et arcu.</div>\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n          {this.state.images.map((img, index) => (\n            <div style={{ display: 'flex', flexDirection: 'column' }}>\n              <img src={img.imgDataUrl} alt=\"\" style={{ width: \"96px\", height: \"128px\" }}></img>\n              <div>{\"Page \" + (index + 1)}</div>\n            </div>\n          ))}\n        </div>\n        <div>\n          <input type=\"file\" ref={this.fileInput} onChange={this.readfiles} multiple></input>\n          <button onClick={() => { this.setState({ images: [] }) }}>Clear</button>\n          <button onClick={this.createPdf}>Generate PDF</button>\n        </div>\n      </div>);\n  }\n\n  //https://labs.madisoft.it/javascript-image-compression-and-resizing/\n  /* resizeImage = async (file, width, height) => {\n    const blobURL = window.URL.createObjectURL(file);\n    const img = new Image();\n    img.src = blobURL;\n    img.onload = function (ev) {\n      window.URL.revokeObjectURL(blobURL); // release memory\n      // Use the img\n      const canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0, width, height);\n    };\n\n  } */\n\n  readfiles = async (event) => {\n    let fileList = this.fileInput.current.files;\n    console.log(fileList.length);\n    for (let i = 0; i < fileList.length; i++) {\n      this.setState((state) => ({\n        images: [...state.images, { imgDataUrl: window.URL.createObjectURL(fileList[i]), file: fileList[i] }]\n      }));\n    }\n  }\n\n  createPdf = async () => {\n    try {\n      console.log(\"create\");\n      const pdfDoc = await PDFDocument.create();\n      for (let i = 0; i < this.state.images.length; i++) {\n        let res=await fetch(this.state.images[i].imgDataUrl);\n        res.headers.forEach((val,key)=>console.log(key+\":\"+val));\n        \n        let raw = await res.arrayBuffer();\n        //console.log(raw);\n        const img = await (res.headers['content-type']==='image/jpeg'?pdfDoc.embedJpg(raw):pdfDoc.embedPng(raw));\n        const page = pdfDoc.addPage();\n        page.drawImage(img, {\n          x: 0,\n          y: 0,\n          width: page.getWidth(),\n          height: page.getHeight(),\n        });\n      }\n      const pdfBytes = await pdfDoc.save();\n      var blob = new Blob([pdfBytes], { type: \"application/pdf\" });\n      var link = document.createElement('a');\n      link.href = window.URL.createObjectURL(blob);\n      var fileName = \"file.pdf\";\n      link.download = fileName;\n      link.click();\n    }\n    catch (err) {\n      console.error(err);\n    }\n  }\n\n  /* createPdf = async () => {\n    const pdfDoc = await PDFDocument.create();\n    this.createPage(pdfDoc, 1);\n  }\n\n  createPage = (pdfDoc, index) => {\n    this.embedImage(pdfDoc, index).then(() => {\n      if (index > this.state.images.length) {\n        pdfDoc.save().then((blob) => {\n          var link = document.createElement('a');\n          link.href = window.URL.createObjectURL(blob);\n          var fileName = \"file.pdf\";\n          link.download = fileName;\n          link.click();\n        });\n      }\n      this.createPage(pdfDoc, index + 1);\n    });\n  }\n\n  embedImage = async (pdfDoc, index) => {\n    if (index > this.state.images.length) return;\n    let raw = await (await fetch(this.state.images[index - 1])).blob();\n    const img = await pdfDoc.embedJpg(raw);\n    const page = pdfDoc.addPage();\n    page.drawImage(img, {\n      x: 0,\n      y: 0,\n      width: page.getWidth(),\n      height: page.getHeight(),\n    });\n  } */\n\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}